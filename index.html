<!DOCTYPE html>
<html lang="sq">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portali i BibliotekÃ«s Digjitale</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:'Inter', sans-serif;
}



body{
  min-height:100vh;
  background:
    radial-gradient(circle at 20% 30%, #1c2b3a 0%, transparent 40%),
    radial-gradient(circle at 80% 70%, #2c5364 0%, transparent 40%),
    linear-gradient(135deg,#0f2027,#1c2b3a,#203a43,#2c5364);
  background-size:400% 400%;
  animation:gradientMove 15s ease infinite;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  color:#fff;
  padding:80px 20px;
  overflow-x:hidden;
}

@keyframes gradientMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}


body::before{
  content:"";
  position:fixed;
  inset:0;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,0.3), transparent),
    radial-gradient(2px 2px at 70% 60%, rgba(255,255,255,0.25), transparent),
    radial-gradient(2px 2px at 40% 80%, rgba(255,255,255,0.2), transparent),
    radial-gradient(2px 2px at 85% 25%, rgba(255,255,255,0.25), transparent);
  animation:particlesMove 25s linear infinite;
  pointer-events:none;
}

@keyframes particlesMove{
  from{transform:translateY(0);}
  to{transform:translateY(-60px);}
}



.intro{
  position:fixed;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  z-index:999;
  cursor:pointer;
  transition:1s ease;
  text-align:center;
  padding:20px;
}

#introTitle{
  font-size:3.8rem;
  font-weight:700;
  letter-spacing:1px;
  background:linear-gradient(90deg,#ffffff,#d8ecff,#a8d0ff);
  -webkit-background-clip:text;
  background-clip: text;
  -webkit-text-fill-color:transparent;
  text-shadow:
    0 0 20px rgba(168,208,255,0.4),
    0 0 40px rgba(168,208,255,0.25);
  margin-bottom:50px;
  animation:titleFade 1.5s ease forwards;
}

@keyframes titleFade{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}

.intro-sub{
  font-size:0.9rem;
  letter-spacing:4px;
  text-transform:uppercase;
  opacity:0.6;
  position:relative;
  padding-top:25px;
  animation:fadePulse 2.5s infinite;
}

.intro-sub::before{
  content:"";
  position:absolute;
  top:0;
  left:50%;
  transform:translateX(-50%);
  width:80px;
  height:1px;
  background:rgba(255,255,255,0.4);
}

@keyframes fadePulse{
  0%,100%{opacity:0.4;}
  50%{opacity:0.9;}
}

.intro.hide{
  transform:translateY(-100%);
  opacity:0;
}



.main-content{
  width:100%;
  max-width:1100px;
  opacity:0;
  transform:translateY(60px);
  transition:1s ease;
  margin:auto;
}

.main-content.show{
  opacity:1;
  transform:translateY(0);
}

.container{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
}



.header{
  grid-column:1/-1;
  text-align:center;
  margin-bottom:50px;
  padding-bottom:25px;
  position:relative;
}

.header h1{
  font-size:2.5rem;
  background:linear-gradient(90deg,#ffffff,#d8ecff,#a8d0ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  text-shadow:0 0 20px rgba(168,208,255,0.25);
  background-clip: text;
}

.header p{
  margin-top:15px;
  opacity:0.7;
  letter-spacing:1px;
}

.header::after{
  content:"";
  position:absolute;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:120px;
  height:2px;
  background:linear-gradient(90deg,transparent,#a8d0ff,transparent);
}



.card{
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(18px);
  border-radius:24px;
  padding:55px 45px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  transition:0.35s ease;
  box-shadow:0 20px 50px rgba(0,0,0,0.4);
  border:1px solid rgba(255,255,255,0.15);
  position:relative;
  overflow:hidden;
}

.card::before{
  content:"";
  position:absolute;
  width:300px;
  height:300px;
  background:radial-gradient(circle,rgba(255,255,255,0.15),transparent 70%);
  top:-100px;
  right:-100px;
  transition:0.6s;
}

.card:hover::before{
  transform:scale(1.2);
}

.card:hover{
  transform:translateY(-10px) scale(1.02);
  box-shadow:0 30px 70px rgba(0,0,0,0.6);
}

.card.student{
  border-left:4px solid #4ca1af;
}

.card.admin{
  border-left:4px solid #ff5f6d;
}

.icon{
  font-size:4.2rem;
  margin-bottom:20px;
  filter:drop-shadow(0 10px 20px rgba(0,0,0,0.5));
}

h2{
  font-size:1.9rem;
  margin-bottom:16px;
}

p{
  font-size:1rem;
  margin-bottom:30px;
  line-height:1.6;
}



a.button,
.login-inputs button{
  text-decoration:none;
  padding:14px 36px;
  border-radius:999px;
  font-weight:600;
  font-size:1rem;
  color:#fff;
  background:linear-gradient(135deg,#1e1e1e,#3c3c3c);
  border:1px solid rgba(255,255,255,0.2);
  transition:0.3s ease;
  cursor:pointer;
  box-shadow:0 5px 20px rgba(0,0,0,0.4);
}

a.button:hover,
.login-inputs button:hover{
  transform:scale(1.07);
  background:linear-gradient(135deg,#2c2c2c,#5a5a5a);
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
}



.login-inputs{
  display:flex;
  flex-direction:column;
  width:100%;
}

.login-inputs input{
  padding:14px 16px;
  margin-bottom:16px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.2);
  background:rgba(255,255,255,0.08);
  color:#fff;
  font-size:1rem;
  outline:none;
  transition:0.3s;
}

.login-inputs input::placeholder{
  color:rgba(255,255,255,0.6);
}

.login-inputs input:focus{
  border:1px solid rgba(255,255,255,0.6);
  background:rgba(255,255,255,0.15);
  box-shadow:0 0 15px rgba(255,255,255,0.3);
}

.message{
  margin-top:12px;
  font-weight:500;
  min-height:20px;
}


@media(max-width:900px){
  .container{
    grid-template-columns:1fr;
  }

  .card{
    padding:45px 30px;
  }

  #introTitle{
    font-size:2.3rem;
  }
}
</style>
</head>

<body>

<div class="intro" id="introScreen">
  <h1 id="introTitle">
    Portali i BibliotekÃ«s Digjitale<br>
    Muharrem Collaku
  </h1>
  <p class="intro-sub">Klikoni pÃ«r tÃ« hyrÃ«</p>
</div>

<div class="main-content" id="mainContent">
  <div class="container">

    <div class="header">
      <h1>Portali i BibliotekÃ«s Digjitale Muharrem Collaku</h1>
      <p>Zgjidhni mÃ«nyrÃ«n e aksesit pÃ«r studentÃ« ose administratorÃ« tÃ« bibliotekÃ«s</p>
    </div>

    <div class="card student">
      <div class="icon">ğŸ“</div>
      <h2>Akses pÃ«r StudentÃ«</h2>
      <p>Shfletoni librat e bibliotekÃ«s dhe bÃ«ni pararezervim pÃ«r librat qÃ« ju nevojiten.</p>
      <div style="display:flex; gap:14px; flex-wrap:wrap; justify-content:center;">
        <a href="stdlogin.html" class="button">Hyr</a>
        <a href="stdsignup.html" class="button">Regjistrohu</a>
      </div>
    </div>

    <div class="card admin">
      <div class="icon">ğŸ‘©â€ğŸ«</div>
      <h2>Administrator i BibliotekÃ«s</h2>
      <p>Menaxhoni kopjet e librave, kÃ«rkesat e studentÃ«ve dhe disponueshmÃ«rinÃ«.</p>

      <div class="login-inputs">
        <input type="text" id="adminUsername" placeholder="Admin Username">
        <input type="password" id="adminPassword" placeholder="FjalÃ«kalimi">
        <button class="button" id="adminLoginBtn">Hyr</button>
        <div class="message" id="adminMessage"></div>
      </div>
    </div>

  </div>
</div>

<script>
const intro = document.getElementById("introScreen");
const mainContent = document.getElementById("mainContent");

intro.addEventListener("click", () => {
  intro.classList.add("hide");
  mainContent.classList.add("show");
  setTimeout(()=> intro.style.display="none",1000);
});

const USER_WS_URL = "https://script.google.com/macros/s/AKfycbyUQvrfdnYKQT3KTD5dh-9t386J30tydNL6z3twuRJDxLLNIncf8xIh3UddbyOillbl/exec";

document.getElementById("adminLoginBtn").addEventListener("click", async () => {
  const username = document.getElementById("adminUsername").value.trim();
  const password = document.getElementById("adminPassword").value;
  const messageEl = document.getElementById("adminMessage");

  if(!username || !password){
    messageEl.textContent = "Ju lutemi plotÃ«soni tÃ« gjitha fushat.";
    messageEl.style.color = "#ff7777";
    return;
  }

  try {
    const res = await fetch(USER_WS_URL + "?type=users");
    const users = await res.json();

    const user = users.find(u => 
      u.Username && u.Username.trim() === username &&
      u.Password && u.Password.trim() === password &&
      u.Role && u.Role.trim().toLowerCase() === "admin" &&
      u.Status && u.Status.trim().toLowerCase() === "approved"
    );

    if(user){
      sessionStorage.setItem("username", user.Username.trim());
      sessionStorage.setItem("role", "admin");
      messageEl.textContent = "Hyrja e suksesshme!";
      messageEl.style.color = "#a6f1a6";
      setTimeout(()=> window.location.href = "biblioteka-adm.html", 800);
    } else {
      messageEl.textContent = "Username ose fjalÃ«kalim i gabuar, ose nuk jeni aprovuar.";
      messageEl.style.color = "#ff7777";
    }

  } catch(err){
    messageEl.textContent = "Ndodhi njÃ« gabim gjatÃ« hyrjes.";
    messageEl.style.color = "#ff7777";
  }
});
</script>

</body>
</html>
